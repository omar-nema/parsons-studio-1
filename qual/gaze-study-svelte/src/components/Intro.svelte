<script>
  import { onMount } from 'svelte';
  import { modalState } from '../stores/pageState';
  import { slide, fade } from 'svelte/transition';
  //detect if visited
  import * as localforage from 'localforage';

  function fadeSlide(node, options) {
    const slideTrans = slide(node, options);
    return {
      duration: options.duration,
      css: (t) => `
				${slideTrans.css(t)}
				opacity: ${t};
			`,
    };
  }

  let showSvg = false;
  let animateSvg = false;
  let blurSvg = false;
  let isoSvg = false;

  function initScroll() {
    document.querySelector('#modal').addEventListener('scroll', (e) => {
      let ctrPt = window.innerHeight / 2;
      let sections = document.querySelectorAll('.scroll');
      sections.forEach((d) => {
        let boundingRect = d.getBoundingClientRect();
        if (
          ctrPt >= boundingRect.top &&
          ctrPt < boundingRect.height + boundingRect.top
        ) {
          d.style.opacity = 1;
          alterSvg(d);
          // cardInView.set(d.id);
        }
      });
    });
  }

  function alterSvg(el) {
    if (el.dataset['effect']) {
      if (el.dataset['effect'] == 'animate') {
        showSvg = true;
        animateSvg = true;
        blurSvg = false;
        isoSvg = false;
      } else if (el.dataset['effect'] == 'blur') {
        animateSvg = false;
        showSvg = true;
        blurSvg = true;
        isoSvg = false;
      } else if (el.dataset['effect'] == 'iso') {
        animateSvg = false;
        showSvg = true;
        blurSvg = false;
        isoSvg = true;
      }
    } else {
      (showSvg = false), (animateSvg = false), (blurSvg = false);
    }
  }

  onMount(() => {
    initScroll();
  });
</script>

<main id="modal" transition:fadeSlide={{ duration: 300 }}>
  <div
    class="btn-close clickable"
    on:click={() => {
      localforage.setItem('visited', true);
      $modalState = null;
    }}
  >
    Skip Intro
  </div>
  <section class="introbg">
    <h1>How We Gaze</h1>
  </section>
  <section class="scroll">
    <p>Imagine a piece of art that you love. How do you look at it?</p>
  </section>
  <section class="scroll" data-effect="animate">
    <p>Do you study the work bit-by-bit?</p>
  </section>
  <section class="scroll" data-effect="blur">
    <p>Or do you take it in as a whole?</p>
  </section>
  <section class="scroll" data-effect="iso">
    <p>How would someone else look at the same work?</p>
  </section>
  <section class="scroll">
    <p>What might we learn about someone by seeing how they see?</p>
  </section>
  <section class="scroll">
    <p>
      Inspired by these questions, How We Gaze is a <strong>meta-gallery</strong
      > that shows how individuals gaze at pieces of artwork. You can view othersâ€™
      gazes, or add your own.
    </p>
  </section>
  <section class="scroll">
    <div
      class="btn"
      on:click={() => {
        $modalState = null;
      }}
    >
      <span> Enter Gallery</span>

      <span
        class="material-icons-round"
        style="font-size: 40px;margin-left: 10px"
      >
        auto_awesome
      </span>
    </div>
  </section>
  {#if showSvg}
    <div
      class="svg-holder"
      class:animate={animateSvg}
      class:blur={blurSvg}
      class:iso={isoSvg}
      transition:fade={{ delay: 500 }}
    >
      <svg
        width="1135"
        height="1068"
        viewBox="0 0 1135 1068"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g id="Group 93">
          <g id="squiggles">
            <path
              id="Fill-3"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M516.161 286.709C520.795 296.401 523.546 305.412 508.536 302.95C499.477 315.551 499.403 345.362 477.296 341.14C466.301 341.849 438.449 321.246 437.196 339.271C445.814 421.444 391.321 358.677 379.947 378.142C374.798 391.851 378.297 409.153 368.53 420.605C341.658 428.571 349.401 386.074 352.378 370.503C370.466 312.153 407.45 366.12 412.634 347.575C411.33 332.52 416.502 318.678 426.729 307.801C440.304 295.556 458.808 315.057 474.773 314.201C489.121 316.514 490.762 246.88 516.161 286.709Z"
              fill="#3BC5FF"
            />
            <path
              id="Fill-5"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M528.019 512.029C532.961 508.26 540.046 508.008 547.334 510.173C575.345 521.452 546.284 482.436 581.43 468.96C605.364 460.983 602.722 482.338 624.783 456.446C647.558 446.125 639.754 514.404 598.8 492.076C577.702 489.063 598.504 531.458 579.174 538.855C570.751 545.393 560.237 541.083 550.834 539.742C528.056 536.863 532.552 573.937 518.389 585.414C514.24 590.856 508.592 590.338 503.607 587.799C477.169 575.258 509.13 522.676 528.019 512.029Z"
              fill="#3BC5FF"
            />
            <path
              id="Fill-7"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M450.918 438.19C464.202 431.183 498.007 455.28 494.226 441.41C493.508 433.101 496.268 425.544 498.942 418.139C509.65 385.634 544.388 415.135 551.628 401.02C554.125 388.767 559.542 387.803 569.329 392.656C572.977 394.227 578.643 400.719 573.883 403.523C568.086 406.663 567.66 411.759 566.91 417.256C562.144 444.374 520.366 409.519 516.671 437.54C522.69 513.002 467.767 448.34 462.23 475.511C456.134 488.761 460.024 515.086 439.402 512.191C411.124 514.978 439.356 447.269 450.918 438.19Z"
              fill="#3BC5FF"
            />
          </g>
          <g id="mag">
            <path
              id="Fill-1"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M677 176.148C676.343 206.467 685.438 235.224 707.618 256.675C723.726 274.829 731.615 302.171 758.184 307.789C840.706 342.894 960.776 300.08 979.167 206.586C992.238 162.603 956.138 131.695 931.18 101.377C908.197 71.1915 870.93 61.9675 835.603 55.3765C819.622 57.1235 798.984 57.3565 786.188 67.7255C783.54 71.0315 779.553 72.1205 776.528 69.8175C766.465 63.5735 757.297 74.9115 748.004 77.8955C710.256 97.0415 674.875 130.726 677 176.148ZM645.049 188.624C642.911 108.153 697.352 61.2565 771.249 46.0145C811.485 17.6275 873.754 28.1615 917.073 49.0055C937.108 60.4135 955.269 74.6225 966.622 95.1035C976.237 109.927 991.291 121.187 995.572 139.13C1026.38 213.231 971.294 300.112 898.668 324.066C853.109 345.509 802.283 346.667 754.484 332.835C733.536 328.803 710.559 321.397 698.995 302.148C669.271 257.233 645.906 248.125 645.049 188.624Z"
              fill="#FF3C54"
            />
            <path
              id="Fill-9"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M1034.13 477.48C1036.5 456.135 1063.61 421.762 1087.36 439.377C1096.63 444.45 1067 491.951 1057.74 489.268C1056.25 489.201 1054.43 490.76 1053.18 491.99C1044.03 500.499 1029.42 488.459 1034.13 477.48Z"
              fill="#3BC5FF"
            />
            <path
              id="Fill-12"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M987.923 323.592C984.091 341.573 970.714 362.391 950.541 363.713C930.627 364.131 939.179 337.082 943.503 325.701C945.928 307.227 990.658 301.49 987.923 323.592Z"
              fill="#3BC5FF"
            />
            <path
              id="Fill-14"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M983.181 409.437C981.119 395.317 999.293 391.604 1007.38 383.387C1016.08 376.397 1025.18 379.201 1034.29 381.65C1047.29 397.813 1019.45 416.732 1009.73 428.749C999.612 435.937 980.323 422.77 983.181 409.437Z"
              fill="#3BC5FF"
            />
            <path
              id="Fill-1_2"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M1046.09 488.494C1051.03 472.003 1062.36 462.001 1079.08 458.747C1086.62 456.254 1073.72 438.609 1068.25 445.141C1058.56 453.158 1024.69 478.453 1046.09 488.494ZM962.567 355.661C966.586 350.466 988.211 341.095 984.529 335.646C977.533 329.612 965.796 313.204 956.635 323.746C955.453 326.766 961.776 328.319 956.061 329.857C943.66 333.381 943.533 333.475 950.688 343.726C954.214 347.849 957.467 353.473 962.567 355.661ZM1005.75 424.242C1013.98 414.924 1021.27 404.78 1033 399.275C1035.59 397.897 1037.04 395.615 1034.86 393.29C1030.31 389.404 1026.38 378.311 1019.39 384.254C1005.25 393.414 983.142 410.932 1005.75 424.242ZM1103.04 496.607C1099.8 487.876 1095.99 471.038 1083.3 477.907C1072.35 484.256 1057.24 495.519 1058.92 509.399C1060.84 513.8 1065.24 510.783 1068.07 509.181C1078.5 501.646 1092.67 501.965 1103.04 496.607ZM1015.92 371.47C1011.68 365.65 1000.55 345.821 992.529 352.564C986.28 359.948 966.786 365.95 973.563 377.478C977.056 382.305 981.355 397.89 988.662 390.587C995.866 381.724 1010.21 380.471 1015.92 371.47ZM1028.96 462.467C1057.36 422.321 1077.8 440.263 1050.12 410.925C1042.1 402.249 1029.91 425.389 1022.62 429.593C1019.03 433.872 1011.47 438.351 1015.17 444.747C1019.32 450.816 1021 460.428 1028.96 462.467ZM965.057 175.469C968.46 136.981 941.143 102.311 913.908 77.8206C877.43 49.4836 823.105 47.3416 781.176 64.7096C706.618 91.3166 654.677 173.475 696.724 248.46C711.846 286.446 745.924 305.412 783.745 315.226C884.266 337.843 964.344 280.402 965.057 175.469ZM931.272 325.231C925.921 320.504 923.298 307.915 915.412 310.611C873.031 334.252 820.269 339.545 774.151 324.327C684.58 303.029 644.351 188.978 693.968 113.269C747.77 20.7046 903.514 3.72462 960.298 101.889C1003.44 158.087 981.249 241.129 938.356 291.17C932.983 295.422 933.837 300.199 937.853 305.155C947.754 326.878 955.044 279.607 990.517 315.295C1003.84 327.702 1015.5 341.669 1025.51 356.883C1044.84 387.812 1072.51 412.309 1090.06 444.415C1093.23 456.691 1118.59 465.918 1109.81 472.706C1104.7 479.458 1113.45 487.49 1114.8 494.606C1117.28 501.144 1125.7 500.981 1130.48 505.233C1147.01 525.077 1106.46 542.409 1089.68 539.842C1080.24 537.786 1067.9 542.824 1060.42 535.442C1037.21 503.47 1015.6 469.937 993.495 436.845C978.708 414.832 960.517 395.4 947.77 371.996C942.297 357.905 914.864 338.881 931.272 325.231Z"
              fill="black"
            />
            <path
              id="Fill-4"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M601.704 343.088C596.306 327.925 662.534 265.25 660.892 297.079C652.774 304.53 608.343 365.187 601.704 343.088Z"
              fill="black"
            />
            <path
              id="Fill-6"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M608.742 182.968C642.295 189.259 548.364 224.547 538.762 222.635C520.581 210.313 597.685 182.415 608.742 182.968Z"
              fill="black"
            />
            <path
              id="Fill-8"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M1035.7 0.000475329C1028.73 21.188 994.945 54.534 972.503 56.375C955.347 43.468 1022.9 -0.166047 1035.7 0.000475329Z"
              fill="black"
            />
            <path
              id="Fill-10"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M883.384 381.29C882.67 396.051 880.537 437.486 862.065 407.368C847.488 365.17 881.737 333.868 883.384 381.29Z"
              fill="black"
            />
            <path
              id="Fill-12_2"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M567.212 60.5762C583.412 63.3622 598.276 73.4532 611.045 83.5522C619.424 87.8472 625.694 106.782 610.793 103.026C600.012 96.4232 589.445 89.4762 578.745 82.7452C572.594 78.9232 566.307 75.4222 559.138 73.7302C547.755 66.7612 556.931 59.7292 567.212 60.5762Z"
              fill="black"
            />
            <path
              id="Fill-14_2"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M746.547 368.305C741.858 383.387 730.854 407.841 714.628 411.937C698.469 407.601 739.626 334.02 746.547 368.305Z"
              fill="black"
            />
            <path
              id="Fill-16"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M701.6 49.3603C675.742 52.6903 660.651 -14.2307 690.823 7.41534C698.721 18.0763 696.967 33.3963 705.883 42.9393C710.159 46.1713 704.938 49.6373 701.6 49.3603Z"
              fill="black"
            />
            <path
              id="Fill-20"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M1089.3 251.633C1087.88 253.065 1086.82 255.739 1084.5 255.305C1073.56 251.887 1062.3 254.16 1051.22 253.568C1005.57 243.83 1059.47 219.109 1089.3 251.633Z"
              fill="black"
            />
            <path
              id="Fill-22"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M1055.44 153.097C1048.6 154.848 1032.67 146.27 1044.32 141.276C1059.66 139.553 1079.1 139.799 1092.49 146.077C1081.04 150.387 1067.58 150.366 1055.44 153.097Z"
              fill="black"
            />
            <path
              id="Fill-26"
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M821.249 205.719C783.631 164.203 796.358 130.682 776.015 153.253C761.685 171.204 758.371 194.331 753.257 216.063C750.784 230.711 814.495 211.797 821.249 205.719ZM860.375 182.584C883.551 169.369 901.021 141.914 897.238 114.771C877.832 103.26 846.583 110.219 825.481 118.659C822.229 119.98 822.091 121.812 825.035 124.294C843.151 139.605 853.23 160.297 860.375 182.584ZM760.716 233.469C736.555 236.999 745.741 224.484 745.627 207.297C747.519 195.848 731.023 202.704 725.228 197.238C718.282 188.844 734.424 186.241 740.215 186.618C748.366 186.965 749.993 186.193 751.737 177.258C753.207 171.943 756.596 166.018 756.256 160.615C754.249 155.577 742.637 152.23 737.711 148.246C733.447 146.212 735.991 139.864 740.072 139.611C749.29 138.421 753.991 147.642 762.054 149.734C775.596 129.446 793.096 134.315 773.819 110.108C770.386 105.884 774.318 102.391 778.298 99.8992C785.484 99.4842 787.755 110.007 792.444 114.353C799.123 121.2 809.69 108.177 817.134 106.109C826.483 101.757 806.783 81.5652 818.19 79.0442C835.59 79.7762 826.712 98.2472 838.354 98.9782C845.696 95.9992 869.176 99.4562 869.725 90.8412C867.971 83.1942 864.435 74.5322 871.095 68.2782C873.038 65.9592 877.011 66.6062 878.25 69.4692C878.705 74.7212 884.041 77.7162 883.197 83.2822C872.431 105.469 902.703 91.0172 913.084 99.5512C922.68 105.883 905.52 109.371 910.816 117.434C918.598 188.049 821.668 235.956 760.716 233.469Z"
              fill="black"
            />
          </g>
          <g id="bigshape">
            <g id="square">
              <path
                id="Fill-3_2"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M277.163 510.107C275.226 506.711 271.19 502.97 267.432 504.489C264.03 507.84 275.285 519.88 277.163 510.107ZM172.126 622.729C148.723 610.983 138.735 579.615 124.757 558.131C110.755 530.753 88.5797 509.197 68.9507 485.619C67.0477 482.88 65.2337 480.296 61.3117 480.329C51.2287 475.074 61.7207 457.016 70.5617 454.085C107.964 436.868 133.5 400.061 177.003 395.454C210.995 379.068 246.558 483.482 260.881 482.084C288.94 480.037 305.934 503.884 288.166 527.83C280.435 537.448 297.946 550.738 284.634 558.274C242.192 571.319 213.323 608.947 172.126 622.729Z"
                fill="#FFC43C"
              />
              <g id="Mask Group">
                <mask
                  id="mask0_1264_696"
                  style="mask-type:alpha"
                  maskUnits="userSpaceOnUse"
                  x="0"
                  y="345"
                  width="351"
                  height="278"
                >
                  <rect
                    id="Rectangle 9"
                    y="345.709"
                    width="351"
                    height="277"
                    fill="#C4C4C4"
                  />
                </mask>
                <g mask="url(#mask0_1264_696)">
                  <path
                    id="Fill-1_3"
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M173.704 386.905C152.704 403.306 130.548 417.831 108.036 432.131C92.8788 442.654 75.5578 450.419 61.9768 463.02C54.4588 470.354 68.0618 475.892 71.6068 481.509C109.039 525.905 146.145 570.503 183.537 614.847C185.876 617.916 188.631 615.457 190.529 613.037C219.099 579.118 253.675 550.647 281.25 516.024C292.63 509.045 246.744 474.089 240.874 465.272C213.546 443.46 197.162 411.97 173.704 386.905ZM168.497 638.956C86.6758 632.661 58.5298 722.839 104.23 780.879C110.61 792.542 164.527 817.937 176.508 813.043C186.561 809.066 191.587 824.182 201.714 822.456C329.936 818.737 305.209 634.633 168.497 638.956ZM181.199 1039.63C213.726 1039.82 267.889 1040.05 305.825 1037.57C308.629 1037.46 309.663 1035.5 308.199 1033.15C292.105 1008.99 279.625 982.389 262.128 959.173C234.823 919.726 204.586 882.56 179.219 841.827C173.479 834.547 155.477 866.498 149.142 870.547C106.057 921.519 71.9558 979.612 35.8348 1035.6C32.7428 1039.65 37.0198 1041.88 40.8948 1041.39C90.4688 1042.33 125.315 1040.79 181.199 1039.63ZM295.335 525.196C266.474 555.949 236.186 585.307 207.012 615.926C201.532 620.926 198.884 625.396 208.233 627.157C324.078 652.398 330.366 826.824 204.778 837.092C222.216 873.321 251.936 902.37 271.163 937.87C295.379 968.994 308.236 1008.75 332.706 1038.73C335.347 1039.42 335.095 1043.15 334.382 1045.39C338.215 1052.84 329.972 1057.11 323.612 1056.05C289.005 1056.23 254.064 1055.67 219.482 1058.08C163.804 1057.13 107.752 1060.57 51.9398 1056.25C42.3278 1053.47 11.2948 1058.78 14.1898 1043.95C47.8968 965.112 105.058 899.453 157.039 832.6C164.771 820.207 98.6648 816.29 84.0588 777.322C44.3148 705.513 73.9388 624.135 162.896 622.77C175.228 620.928 126.058 576.969 121.179 571.575C95.6208 544.278 75.1038 512.668 48.8508 485.903C23.9378 462.971 61.2028 441.674 79.6118 430.965C109.941 412.403 141.23 395.36 170.819 375.644C174.228 373.349 184.326 366.669 184.273 374.175C183.286 376.975 183.497 379.059 185.728 380.947C198.056 391.381 206.619 405.057 216.723 417.376C238.862 442.89 265.15 464.162 286.974 489.92C297.636 500.298 311.186 513.957 312.605 528.917C309.091 540.278 299.329 531.71 295.335 525.196Z"
                    fill="black"
                  />
                </g>
              </g>
            </g>
            <g id="circle">
              <path
                id="Fill-12_3"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M128.269 807.26C86.6911 794.651 231.093 690.871 248.143 678.086C254.179 673.175 262.356 679.773 259.455 686.856C251.829 706.393 231.341 716.792 217.376 731.489C187.739 755.275 162.248 791.48 128.269 807.26Z"
                fill="#3BC5FF"
              />
              <path
                id="Fill-14_3"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M102.538 779.237C76.6116 772.939 122.398 732.464 130.059 722.355C153.649 690.315 303.838 601.611 196.632 692.008C182.93 703.339 168.618 714.007 155.629 726.1C136.679 741.854 124.121 767.342 102.538 779.237Z"
                fill="#3BC5FF"
              />
              <path
                id="Fill-16_2"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M173.416 831.726C98.2007 852.525 258.209 729.201 269.046 718.639C314.734 716.231 179.977 816.86 173.416 831.726Z"
                fill="#3BC5FF"
              />
              <path
                id="Fill-18"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M176.334 637.041C197.005 640.907 145.508 679.333 139.846 687.074C124.19 700.172 113.87 718.238 99.6747 732.378C94.4287 736.903 85.1377 728.841 88.3637 722.659C108.885 687.234 143.726 660.515 176.334 637.041Z"
                fill="#3BC5FF"
              />
              <g id="Mask Group_2">
                <mask
                  id="mask1_1264_696"
                  style="mask-type:alpha"
                  maskUnits="userSpaceOnUse"
                  x="5"
                  y="622"
                  width="351"
                  height="214"
                >
                  <rect
                    id="Rectangle 11"
                    x="5"
                    y="622.709"
                    width="351"
                    height="213"
                    fill="#C4C4C4"
                  />
                </mask>
                <g mask="url(#mask1_1264_696)">
                  <path
                    id="Fill-1_4"
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M178.704 386.905C157.704 403.306 135.548 417.831 113.036 432.131C97.8788 442.654 80.5578 450.419 66.9768 463.02C59.4588 470.354 73.0618 475.892 76.6068 481.509C114.039 525.905 151.145 570.503 188.537 614.847C190.876 617.916 193.631 615.457 195.529 613.037C224.099 579.118 258.675 550.647 286.25 516.024C297.63 509.045 251.744 474.089 245.874 465.272C218.546 443.46 202.162 411.97 178.704 386.905ZM173.497 638.956C91.6758 632.661 63.5298 722.839 109.23 780.879C115.61 792.542 169.527 817.937 181.508 813.043C191.561 809.066 196.587 824.182 206.714 822.456C334.936 818.737 310.209 634.633 173.497 638.956ZM186.199 1039.63C218.726 1039.82 272.889 1040.05 310.825 1037.57C313.629 1037.46 314.663 1035.5 313.199 1033.15C297.105 1008.99 284.625 982.389 267.128 959.173C239.823 919.726 209.586 882.56 184.219 841.827C178.479 834.547 160.477 866.498 154.142 870.547C111.057 921.519 76.9558 979.612 40.8348 1035.6C37.7428 1039.65 42.0198 1041.88 45.8948 1041.39C95.4688 1042.33 130.315 1040.79 186.199 1039.63ZM300.335 525.196C271.474 555.949 241.186 585.307 212.012 615.926C206.532 620.926 203.884 625.396 213.233 627.157C329.078 652.398 335.366 826.824 209.778 837.092C227.216 873.321 256.936 902.37 276.163 937.87C300.379 968.994 313.236 1008.75 337.706 1038.73C340.347 1039.42 340.095 1043.15 339.382 1045.39C343.215 1052.84 334.972 1057.11 328.612 1056.05C294.005 1056.23 259.064 1055.67 224.482 1058.08C168.804 1057.13 112.752 1060.57 56.9398 1056.25C47.3278 1053.47 16.2948 1058.78 19.1898 1043.95C52.8968 965.112 110.058 899.453 162.039 832.6C169.771 820.207 103.665 816.29 89.0588 777.322C49.3148 705.513 78.9388 624.135 167.896 622.77C180.228 620.928 131.058 576.969 126.179 571.575C100.621 544.278 80.1038 512.668 53.8508 485.903C28.9378 462.971 66.2028 441.674 84.6118 430.965C114.941 412.403 146.23 395.36 175.819 375.644C179.228 373.349 189.326 366.669 189.273 374.175C188.286 376.975 188.497 379.059 190.728 380.947C203.056 391.381 211.619 405.057 221.723 417.376C243.862 442.89 270.15 464.162 291.974 489.92C302.636 500.298 316.186 513.957 317.605 528.917C314.091 540.278 304.329 531.71 300.335 525.196Z"
                    fill="black"
                  />
                </g>
              </g>
            </g>
            <g id="triange">
              <path
                id="Fill-1_5"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M189.415 833.709C204.676 843.168 211.534 862.28 223.374 875.507C247.464 903.883 256.324 942.462 279.322 970.842C292.774 978.583 297.254 995.034 308.008 1005.73C314.013 1012.8 347.076 1055.29 331.486 1058.98C315.425 1067.98 301.923 1050.53 286.841 1047.76C246.537 1048.43 206.451 1042.65 166.138 1043.23C131.227 1042.74 97.2151 1050.79 62.5621 1054.23C12.7251 1055.67 86.3511 1005.76 71.3601 987.215C53.5511 952.353 128.11 920.826 142.912 894.158C149.445 877.028 169.891 865.868 172.711 848.395C171.376 839.147 183.787 838.285 189.415 833.709Z"
                fill="#FF3B53"
              />
              <g id="Mask Group_3">
                <mask
                  id="mask2_1264_696"
                  style="mask-type:alpha"
                  maskUnits="userSpaceOnUse"
                  x="14"
                  y="835"
                  width="351"
                  height="233"
                >
                  <rect
                    id="Rectangle 13"
                    x="14"
                    y="835.709"
                    width="351"
                    height="232"
                    fill="#C4C4C4"
                  />
                </mask>
                <g mask="url(#mask2_1264_696)">
                  <path
                    id="Fill-1_6"
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M187.704 386.905C166.704 403.306 144.548 417.831 122.036 432.131C106.879 442.654 89.5578 450.419 75.9768 463.02C68.4588 470.354 82.0618 475.892 85.6068 481.509C123.039 525.905 160.145 570.503 197.537 614.847C199.876 617.916 202.631 615.457 204.529 613.037C233.099 579.118 267.675 550.647 295.25 516.024C306.63 509.045 260.744 474.089 254.874 465.272C227.546 443.46 211.162 411.97 187.704 386.905ZM182.497 638.956C100.676 632.661 72.5298 722.839 118.23 780.879C124.61 792.542 178.527 817.937 190.508 813.043C200.561 809.066 205.587 824.182 215.714 822.456C343.936 818.737 319.209 634.633 182.497 638.956ZM195.199 1039.63C227.726 1039.82 281.889 1040.05 319.825 1037.57C322.629 1037.46 323.663 1035.5 322.199 1033.15C306.105 1008.99 293.625 982.389 276.128 959.173C248.823 919.726 218.586 882.56 193.219 841.827C187.479 834.547 169.477 866.498 163.142 870.547C120.057 921.519 85.9558 979.612 49.8348 1035.6C46.7428 1039.65 51.0198 1041.88 54.8948 1041.39C104.469 1042.33 139.315 1040.79 195.199 1039.63ZM309.335 525.196C280.474 555.949 250.186 585.307 221.012 615.926C215.532 620.926 212.884 625.396 222.233 627.157C338.078 652.398 344.366 826.824 218.778 837.092C236.216 873.321 265.936 902.37 285.163 937.87C309.379 968.994 322.236 1008.75 346.706 1038.73C349.347 1039.42 349.095 1043.15 348.382 1045.39C352.215 1052.84 343.972 1057.11 337.612 1056.05C303.005 1056.23 268.064 1055.67 233.482 1058.08C177.804 1057.13 121.752 1060.57 65.9398 1056.25C56.3278 1053.47 25.2948 1058.78 28.1898 1043.95C61.8968 965.112 119.058 899.453 171.039 832.6C178.771 820.207 112.665 816.29 98.0588 777.322C58.3148 705.513 87.9388 624.135 176.896 622.77C189.228 620.928 140.058 576.969 135.179 571.575C109.621 544.278 89.1038 512.668 62.8508 485.903C37.9378 462.971 75.2028 441.674 93.6118 430.965C123.941 412.403 155.23 395.36 184.819 375.644C188.228 373.349 198.326 366.669 198.273 374.175C197.286 376.975 197.497 379.059 199.728 380.947C212.056 391.381 220.619 405.057 230.723 417.376C252.862 442.89 279.15 464.162 300.974 489.92C311.636 500.298 325.186 513.957 326.605 528.917C323.091 540.278 313.329 531.71 309.335 525.196Z"
                    fill="black"
                  />
                </g>
              </g>
            </g>
          </g>
        </g>
      </svg>
    </div>
  {/if}
</main>

<style>
  h1 {
    font-size: 100px;
    font-weight: 500;
    -webkit-text-fill-color: transparent;
    background: linear-gradient(
      180deg,
      rgb(255 255 255) 0%,
      rgb(172 240 255) 20%,
      rgb(146 231 249) 60%,
      rgb(255 255 255) 100%
    );
    -webkit-background-clip: text;
    animation-name: blur;
    animation-duration: 3s;
    transition: all 0.3s ease-in-out;
    /* filter: hue-rotate(41deg); */
  }

  @keyframes blur {
    from {
      filter: blur(5px);
      opacity: 0.1;
    }
    to {
      filter: blur(0px);
      opacity: 1;
    }
  }

  .scroll {
    opacity: 0.1;
    transition: all 1s ease-in-out;
  }

  main {
    height: 100vh;
    width: 100vw;
    overflow-x: hidden;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
    background: linear-gradient(
        160deg,
        rgb(250 253 255) 0%,
        rgb(203 241 250) 50%,
        rgb(240, 240, 240) 100%
      )
      fixed;
    background-repeat: no-repeat;
    background-attachment: local;
  }
  section {
    width: 80%;
    max-width: 1000px;
    margin: auto;
    height: 90vh;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #3f4040;
    z-index: 10;
    position: relative;
  }
  p {
    font-size: 34px;
    font-weight: 400;
  }
  .btn {
    font-size: 48px;
    margin: auto;
    border-radius: 5px;
    box-shadow: 0 1px 15px 2px rgb(0 0 0 / 5%);
    background: rgba(255, 255, 255, 0.5);
    padding: 50px 0;
    width: 80%;
    border-radius: 20px;
    background: linear-gradient(
        172deg,
        rgb(69 159 180 / 41%) 0%,
        rgb(103 227 254 / 63%) 50%,
        rgb(33 187 221 / 58%) 100%
      )
      fixed;
    color: white;
    transition: all 0.15s ease-in-out;
  }
  .btn:hover {
    filter: brightness(0.99);
    transform: scale(1.03);
  }
  .btn-close {
    position: fixed;
    top: 5%;
    right: 5%;
    color: var(--color-accent);
  }
  .svg-holder {
    position: fixed;
    top: 0;
    left: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
  }
  svg {
    max-width: 350px;
    transition: all 0.3s linear;
    overflow: visible;
  }

  @keyframes blink {
    0% {
      opacity: 0.1;
    }
    33% {
      opacity: 1;
    }
    66% {
      opacity: 0.1;
    }
    100% {
      opacity: 0.1;
    }
  }
  @keyframes blink2 {
    0% {
      opacity: 0.1;
    }
    33% {
      opacity: 0.1;
    }
    66% {
      opacity: 1;
    }
    100% {
      opacity: 0.1;
    }
  }
  @keyframes blink3 {
    0% {
      opacity: 0.1;
    }
    33% {
      opacity: 0.1;
    }
    66% {
      opacity: 0.1;
    }
    100% {
      opacity: 1;
    }
  }
  @keyframes pulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.02);
    }
    100% {
      transform: scale(1);
    }
  }

  g {
    transition: all 0.3s ease-in-out;
  }
  .svg-holder.animate #square {
    animation: blink 5s infinite;
  }
  .svg-holder.animate #circle {
    animation: blink2 5s infinite;
  }
  .svg-holder.animate #triange {
    animation: blink3 5s infinite;
  }
  .svg-holder.animate #squiggles,
  .svg-holder.animate #mag {
    transform-origin: center;
    animation: pulse 2s infinite;
  }
  .svg-holder.blur #squiggles,
  .svg-holder.blur #mag {
    transform-origin: center;
    animation: pulse 3s infinite;
  }

  .svg-holder #bigshape {
    transition: all 0.3s linear;
    transform-origin: left;
  }

  .svg-holder.blur #bigshape {
    filter: blur(7px);
  }
  .svg-holder.iso #bigshape {
    filter: blur(0px);
  }
  .svg-holder.iso #squiggles,
  .svg-holder.iso #mag {
    opacity: 0;
  }

  #square,
  #triange,
  #circle {
    opacity: 1;
  }
  #smallshape {
    display: none;
  }
</style>
